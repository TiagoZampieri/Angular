<!DOCTYPE html>
<html ng-app="listaTelefonica">
<head>
	<title>Angular JS</title>
	<link rel="stylesheet" type="text/css" href="lib/bootstrap/bootstrap.css">
	<style type="text/css">
		.jumbotron{
			width: 40%; 
			text-align: center;
			margin: 10% 30%;
		}
		table{margin-top: 5%;}
		.form-control {margin-top: 2%;}
	</style>
	<script src="lib/angular/angular.js"></script>
	<script type="text/javascript">
		// criando o módulo
		angular.module("listaTelefonica", []);
		//achamdo o módulo e criando um controller pra ele
		angular.module("listaTelefonica").controller('listaTelefonicaCtrl', function($scope){
			//depois do $scope.qualquer coisa
			$scope.app = "Lista Telefonica";
			//Array de contatos
			$scope.contatos = [
				{/*key*/nome: "Pedro", /*value*/telefone: 99999999 },
				{nome: "Ana", telefone: 99999998},
				{nome: "Maria", telefone: 99999997}
			];
			$scope.operadoras = [
				{nome: "Oi", codigo: 14},
				{nome: "Vivo", codigo: 15},
				{nome: "Tim", codigo: 41},
			];
			//criando a função para o ng click
			$scope.adicionarContato = function(contato){
				$scope.contatos.push(angular.copy(contato));
			};
		});
	</script>
</head>
<body ng-controller="listaTelefonicaCtrl">
	<div class="jumbotron">
		<!-- Exibindo que está no $scope.app -->
		<h3>{{ app }}</h3>
		<table class="table table-striped">
			<tr>
				<th>Nome</th>
				<th>Telefone</th>
			</tr>
			<!-- usando o ng-repeat, o contato é a variável temporária-->
			<tr ng-repeat="contato in contatos">
				<!--<td ng-repeat="(key, value) in contato">
					{{key + ' - ' + value }}
				</td>-->

				<td>{{ contato.nome }}</td>
				<td>{{ contato.telefone }}</td>
			</tr>
		</table>
		<hr>
		<!--Conectando o controller e a viuew usando o Scope-->
		<input class="form-control" type="text" ng-model="contato.nome" placeholder="Nome">
		<input class="form-control" type="text" ng-model="contato.telefone" placeholder="Telefone">
		<select ng-model="contato.operadora"></select>

		<!--Usando a diretiva ng-click -->
		<!-- ng-dsiabled se não tiver naa nos campos-->
		<button class="btn btn-lg btn-primary btn-block" ng-disabled="!contato.nome || !contato.telefone" ng-click="adicionarContato(contato)" style="margin-top: 2%;">Adicionar Contato</button>
	</div>
</body>
</html>